{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///D:/OneDrive/M%C3%A1y%20t%C3%ADnh/personal%20project/Real-Time%20Board%20Managemenr%20Tool/frontend/src/app/api/apiConfig.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = \"http://localhost:5000\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: API,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\"\r\n  }\r\n});\r\n\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n\r\napiClient.interceptors.response.use(\r\n  (res) => res,\r\n  (error) => {\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.removeItem(\"accessToken\");\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default apiClient;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM;AAEZ,MAAM,YAAY,gJAAK,CAAC,MAAM,CAAC;IAC7B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGA,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAI5B,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC,MAAQ,KACT,CAAC;IACC,IAAI,MAAM,QAAQ,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK;QACnD,aAAa,UAAU,CAAC;IAC1B;IACA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///D:/OneDrive/M%C3%A1y%20t%C3%ADnh/personal%20project/Real-Time%20Board%20Managemenr%20Tool/frontend/src/app/api/api.js"],"sourcesContent":["\r\nconst API = {\r\n    auth: {\r\n        signup:\"/auth/signup\",\r\n        signin:\"/auth/signin\",\r\n        profile: \"/auth/profile\"\r\n    },\r\n    users:{\r\n        list: \"/users\",\r\n        byid: (id) => `/users/${id}`,\r\n        update: (id) => `/users/${id}`,\r\n        delete: (id) => `/users/${id}`\r\n    },\r\n    cards: {\r\n        list: \"/cards\",\r\n        add: \"/cards/add\",\r\n        byid: (id) => `/cards/${id}`,\r\n        update: (id) => `/cards/${id}`,\r\n        delete: (id) => `/cards/${id}`,\r\n        byUser: (id) => `/cards/${id}`,\r\n        invite: (cardId) => `/cards/${cardId}/invite`,\r\n        acceptInvite: (cardId) => `/cards/${cardId}/invite/accept`,\r\n        tasks: (cardId) => `/cards/${cardId}/tasks`\r\n    },\r\n    tasks: {\r\n        byCard: (cardId) => `/cards/${cardId}/tasks`,\r\n        byId: (cardId, taskId) => `/cards/${cardId}/tasks/${taskId}`,\r\n        assign: (cardId, taskId) => `/cards/${cardId}/tasks/${taskId}/assign`,\r\n        attachments: (cardId, taskId) => `/cards/${cardId}/tasks/${taskId}/github-attachments`,\r\n        attach: (cardId, taskId) => `/cards/${cardId}/tasks/${taskId}/github-attach`\r\n    }\r\n};\r\n\r\nexport default API;"],"names":[],"mappings":";;;;AACA,MAAM,MAAM;IACR,MAAM;QACF,QAAO;QACP,QAAO;QACP,SAAS;IACb;IACA,OAAM;QACF,MAAM;QACN,MAAM,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC5B,QAAQ,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC9B,QAAQ,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;IAClC;IACA,OAAO;QACH,MAAM;QACN,KAAK;QACL,MAAM,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC5B,QAAQ,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC9B,QAAQ,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC9B,QAAQ,CAAC,KAAO,CAAC,OAAO,EAAE,IAAI;QAC9B,QAAQ,CAAC,SAAW,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;QAC7C,cAAc,CAAC,SAAW,CAAC,OAAO,EAAE,OAAO,cAAc,CAAC;QAC1D,OAAO,CAAC,SAAW,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC;IAC/C;IACA,OAAO;QACH,QAAQ,CAAC,SAAW,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC;QAC5C,MAAM,CAAC,QAAQ,SAAW,CAAC,OAAO,EAAE,OAAO,OAAO,EAAE,QAAQ;QAC5D,QAAQ,CAAC,QAAQ,SAAW,CAAC,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO,OAAO,CAAC;QACrE,aAAa,CAAC,QAAQ,SAAW,CAAC,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO,mBAAmB,CAAC;QACtF,QAAQ,CAAC,QAAQ,SAAW,CAAC,OAAO,EAAE,OAAO,OAAO,EAAE,OAAO,cAAc,CAAC;IAChF;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///D:/OneDrive/M%C3%A1y%20t%C3%ADnh/personal%20project/Real-Time%20Board%20Managemenr%20Tool/frontend/src/app/dashboard/card/page.jsx"],"sourcesContent":["\r\n\"use client\";\r\n\r\nimport Button from \"@/components/componentTag/button\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport apiClient from \"@/app/api/apiConfig\";\r\nimport API from \"@/app/api/api\";\r\n\r\nexport default function CardPage() {\r\n\r\n    const router = useRouter();\r\n\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n    const [newTitle, setNewTitle] = useState(\"\");\r\n    const [cards, setCards] = useState([]);\r\n\r\n    const handleCreateCard = () => {\r\n        setShowAddModal(true);\r\n    }\r\n\r\n// Lấy danh sách card của user\r\nconst fetchCards = async () => {\r\n  try {\r\n    const uid = localStorage.getItem(\"uid\");\r\n    console.log(\"UID:\", uid);\r\n\r\n    if (!uid) return;\r\n\r\n    const res = await apiClient.get(API.cards.byUser(uid));\r\n    console.log(\"API response:\", res.data);\r\n    setCards(res.data);\r\n  } catch (err) {\r\n    console.error(\"Lỗi lấy danh sách card:\", err);\r\n  }\r\n};\r\n\r\n  // Thêm card mới\r\n  const handleAddCard = async () => {\r\n    const uid = localStorage.getItem(\"uid\");\r\n\r\n    if (newTitle.trim() === \"\") return;\r\n\r\n    try {\r\n      await apiClient.post(API.cards.add, {\r\n        name: newTitle,\r\n        description: null,\r\n        ownerId: uid\r\n      });\r\n      setNewTitle(\"\");\r\n      setShowAddModal(false);\r\n      fetchCards();\r\n    } catch (err) {\r\n      console.error(\"Lỗi thêm card:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCards();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-4 h-full flex flex-col border rounded-lg\">\r\n        <div className=\"flex justify-end mb-2\">\r\n            <Button \r\n                label={\"+ Card\"}\r\n                onClick={handleCreateCard}\r\n                className={\"w-[81px] h-[30px] flex justify-center items-center\"}\r\n            />\r\n        </div>\r\n        <div className=\"grid lg:grid-cols-3 gap-2\">\r\n            {cards.map((card) => (\r\n                <div \r\n                    key={card.id}\r\n                    className=\"grid grid-cols-[3fr_1fr] bg-blue-200 rounded-lg p-2\"    \r\n                >\r\n                    <div className=\"mr-2\">\r\n                        <div className=\"flex flex-rows\">\r\n                            <p>Name:</p>\r\n                            <h2>{card.name}</h2>\r\n                        </div>\r\n                        <div className=\"flex flex-rows\">\r\n                            <p>Number of tasks:</p>\r\n                            <p>{card.countTasks}</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button \r\n                        label={\"detail\"}\r\n                        onClick={() => router.push(`/dashboard/card/${card.id}`)}\r\n                        className=\"w-[75px] h-[30px] flex justify-center items-center\"    \r\n                    /> \r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n\r\n        {showAddModal && (\r\n        <div className=\"fixed inset-0 backdrop-blur-xs bg-opacity-10 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white p-6 rounded shadow-lg w-[300px] space-y-4\">\r\n            <h2 className=\"text-lg font-bold\">Nhập tên Card</h2>\r\n            <input\r\n              type=\"text\"\r\n              value={newTitle}\r\n              onChange={(e) => setNewTitle(e.target.value)}\r\n              className=\"w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-300\"\r\n              placeholder=\"Tên card...\"\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => setShowAddModal(false)}\r\n                className=\"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button\r\n                onClick={handleAddCard}\r\n                className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n              >\r\n                OK\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IAEpB,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAErC,MAAM,mBAAmB;QACrB,gBAAgB;IACpB;IAEJ,8BAA8B;IAC9B,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,MAAM,aAAa,OAAO,CAAC;YACjC,QAAQ,GAAG,CAAC,QAAQ;YAEpB,IAAI,CAAC,KAAK;YAEV,MAAM,MAAM,MAAM,yIAAS,CAAC,GAAG,CAAC,mIAAG,CAAC,KAAK,CAAC,MAAM,CAAC;YACjD,QAAQ,GAAG,CAAC,iBAAiB,IAAI,IAAI;YACrC,SAAS,IAAI,IAAI;QACnB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,2BAA2B;QAC3C;IACF;IAEE,gBAAgB;IAChB,MAAM,gBAAgB;QACpB,MAAM,MAAM,aAAa,OAAO,CAAC;QAEjC,IAAI,SAAS,IAAI,OAAO,IAAI;QAE5B,IAAI;YACF,MAAM,yIAAS,CAAC,IAAI,CAAC,mIAAG,CAAC,KAAK,CAAC,GAAG,EAAE;gBAClC,MAAM;gBACN,aAAa;gBACb,SAAS;YACX;YACA,YAAY;YACZ,gBAAgB;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,IAAA,kNAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uJAAM;oBACH,OAAO;oBACP,SAAS;oBACT,WAAW;;;;;;;;;;;0BAGnB,8OAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAC,qBACR,8OAAC;wBAEG,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;0DAAE;;;;;;0DACH,8OAAC;0DAAI,KAAK,IAAI;;;;;;;;;;;;kDAElB,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;0DAAE;;;;;;0DACH,8OAAC;0DAAG,KAAK,UAAU;;;;;;;;;;;;;;;;;;0CAG3B,8OAAC,uJAAM;gCACH,OAAO;gCACP,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,gBAAgB,EAAE,KAAK,EAAE,EAAE;gCACvD,WAAU;;;;;;;uBAhBT,KAAK,EAAE;;;;;;;;;;YAuBvB,8BACD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAoB;;;;;;sCAClC,8OAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;4BACV,aAAY;;;;;;sCAEd,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,SAAS,IAAM,gBAAgB;oCAC/B,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUf","debugId":null}}]
}